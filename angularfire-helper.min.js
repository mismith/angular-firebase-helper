!function(){angular.module("firebaseHelper",["firebase"]).factory("$firebaseJoin",["$firebaseUtils","$firebaseArray","$firebaseObject","$q","$log",function(e,r,t,n){return function(i,o){var a=r.prototype,u=e.defer(),c=[],s=r.$extend({$add:function(r){this._assertNotDestroyed("$add");var t=e.defer(),n=o.push(e.toJSON(r),e.makeNodeResolver(t)),a=n.key();return null!==a?t.promise.then(function(){return e.doSet(i.child(a),a).then(function(){return n})}):e.reject("Error adding new record; could not determine new key for "+r)},$save:function(r){this._assertNotDestroyed("$save");var t=this,n=t._resolveItem(r),i=t.$keyAt(n);if(null!==i){var a=o.child(i);return e.doSet(a,e.toJSON(n)).then(function(){return t.$$notify("child_changed",i),a})}return e.reject("Invalid record; could determine key for "+r)},$remove:function(r){this._assertNotDestroyed("$remove");var t=this.$keyAt(r);return null!==t?e.doRemove(o.child(t)).then(function(){return e.doRemove(i.child(t))}):e.reject("Invalid record; could not determine key for "+r)},$unjoin:function(){return a.$remove.apply(this,arguments)},$$added:function(e){var r=t(o.child(e.key()));return c.push(r.$loaded()),r},$loaded:function(e,r){var t=this,i=u.promise;return arguments.length&&(i=i.then.call(i,e,r)),a.$loaded.call(this).then(function(){n.all(c).then(function(){u.resolve(t.$list)})["catch"](function(){u.reject("Unknown error; could not load all value objects.")})})["catch"](function(e){u.reject(e)}),i}});return new s(i)}}]).provider("$firebaseHelper",function(){var e="",r=!1,t={};this.namespace=function(r){return void 0!==r&&(e=r),e},this.demo=function(e){return void 0!==e&&(r=e),r};var n=this.url=function(){if(!e)throw new Error("Firebase namespace not set, configure $firebaseHelperProvider.namespace('my-app') before using $firebaseHelper.");return"https://"+e+".firebaseio"+(r?"-demo":"")+".com/"},i=function(e){return e.replace(/^\/+/,"")};this.$get=["$firebaseAuth","$firebaseArray","$firebaseObject","$firebaseJoin","$q",function(e,r,o,a){var u=this,c=u.get=function(e,u){var s,l=u||"ref";if(angular.isString(e))s=new Firebase(n()+i(e));else if(angular.isObject(e))if(angular.isFunction(e.$ref))s=e.$ref();else if(angular.isFunction(e.child))s=e;else if(angular.isArray(e)&&e.length)if(angular.isString(e[0]))s=new Firebase(n()+i(e.join("/")));else{var f=c(e.shift()),d=i(e.join("/"));s=d?f.child(d):f}if(s||(s=new Firebase(n())),l+=s.path.toString(),t[l])return t[l];switch(u){default:case"ref":return t[l]=s;case"object":return t[l]=o(s);case"array":return t[l]=r(s);case"join":return t[l]=a(s)}};return u.auth=function(){return e(c(Array.prototype.slice.call(arguments)))},u.path=function(e){return c(e).path.toString()},u.ref=function(){return c(Array.prototype.slice.call(arguments))},u.object=function(){var e=Array.prototype.slice.call(arguments),r="object";return e[e.length-1]===!0&&(r="array",e.pop()),c(e,r)},u.array=function(){var e=Array.prototype.slice.call(arguments);return e.push(!0),u.object.apply(this,e)},u.join=function(e,r){return a(c(e),c(r))},u.load=function(){return u.object.apply(this,arguments).$loaded()},u}]})}();